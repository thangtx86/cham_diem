<!DOCTYPE html>
<html>
<head>
    <title>Key Combination Game</title>
</head>
<body>
    <div>
        <h1>Key Combination Game</h1>
        <p>Press at least 2 keys from the combinations to score points for your team.</p>
        <p>Red Team: <span id="redScore">0</span> points</p>
        <p>Blue Team: <span id="blueScore">0</span> points</p>
    </div>

    <script>
        const keyCombinations = [
            { keys: ['4', 'R', 'F', 'V'], score: 1, team: 'red' },
            { keys: ['1', 'Q', 'A', 'Z'], score: 2, team: 'red' },
            { keys: ['3', 'E', 'D', 'C'], score: 3, team: 'red' },
            { keys: ['7', 'U', 'J', 'M'], score: 1, team: 'blue' },
            { keys: ['2', 'W', 'S', 'X'], score: 2, team: 'blue' },
            { keys: ['8', 'I', 'K', ','], score: 3, team: 'blue' }
    ];

        const teamScores = {
            red: 0,
            blue: 0,
        };

        let lastKeyPressTime = 0;
        let pressedKeys = new Set();
        let isFitTime = false

        function handleKeyPress(event) {
            const currentTime = Date.now();
            if (currentTime - lastKeyPressTime >= 2000) {
                pressedKeys.clear();
                isFitTime = true
            }else{
                isFitTime = false
            }

            const keyPressed = event.key.toUpperCase();
            // if(pressedKeys.length<=2){
                
            // }
        //    if(isFitTime=true){
           
        //    }
        if(!pressedKeys.has(keyPressed)){
            pressedKeys.add(keyPressed);
            console.log('Hssss');
        }

            console.log(pressedKeys);
            console.log(isFitTime);

            for (const combination of keyCombinations) {
                const keysInCombination = combination.keys.filter(key => pressedKeys.has(key));
                if (keysInCombination.length == 2) {
                    const team = combination.team;
                    teamScores[team] += combination.score;
                    document.getElementById(`${team}Score`).textContent = teamScores[team];
                    // pressedKeys.clear();
                    // break;
                }
                if (keysInCombination.length == 4) {
                    // const team = combination.team;
                    // teamScores[team] += combination.score;
                    // document.getElementById(`${team}Score`).textContent = teamScores[team];
                    pressedKeys.clear();
                    // console.log(5555555555555555);
                    // break;
                }
            }

            lastKeyPressTime = currentTime;
        }

        document.addEventListener('keypress', handleKeyPress);
    </script>
</body>
</html>
